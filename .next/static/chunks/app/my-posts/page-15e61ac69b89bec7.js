(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[203],{4087:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(5155),n=s(63);function r(){let e=(0,n.useRouter)();return(0,a.jsx)("button",{onClick:()=>e.back(),className:"back-button",children:"← Back"})}},6380:(e,t,s)=>{"use strict";s.d(t,{db:()=>l,j:()=>d});var a=s(2078),n=s(2553),r=s(9708),i=s(9996);let c=(0,a.Wp)({apiKey:"AIzaSyCGvTD3wapDUlIVAmeo9XBBNVs-lpfeN6o",authDomain:"bloggin-2626d.firebaseapp.com",projectId:"bloggin-2626d",storageBucket:"bloggin-2626d.firebasestorage.app",messagingSenderId:"885496620623",appId:"1:885496620623:web:74e85c2035bf7020baec3a",measurementId:"G-Z3H512GL7S"}),d=(0,n.xI)(c),l=(0,r.aU)(c);(0,i.c7)(c)},7097:(e,t,s)=>{Promise.resolve().then(s.bind(s,9303))},9303:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(5155),n=s(2115),r=s(9708),i=s(6380),c=s(2619),d=s.n(c),l=s(4087);function o(){let[e,t]=(0,n.useState)([]),[s,c]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=i.j.onAuthStateChanged(e=>{c(e)});return()=>e()},[]),(0,n.useEffect)(()=>{(async()=>{s&&t((await (0,r.GG)((0,r.rJ)(i.db,"posts"))).docs.map(e=>({id:e.id,...e.data()})).filter(e=>e.author===s.uid))})()},[s]);let o=async s=>{try{await (0,r.kd)((0,r.H9)(i.db,"posts",s)),t(e.filter(e=>e.id!==s))}catch(e){console.error("Error deleting document: ",e)}};return(0,a.jsxs)("main",{className:"container",children:[(0,a.jsx)(l.A,{}),(0,a.jsxs)("div",{className:"my-posts-container",children:[(0,a.jsx)("h1",{children:"My Posts"}),e.length>0?(0,a.jsx)("ul",{children:e.map(e=>(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{children:e.title}),(0,a.jsxs)("div",{className:"post-actions",children:[(0,a.jsx)(d(),{href:"/edit-post/".concat(e.id),children:(0,a.jsx)("button",{children:"Edit"})}),(0,a.jsx)("button",{onClick:()=>o(e.id),children:"Delete"})]})]},e.id))}):(0,a.jsx)("p",{children:"You haven't created any posts yet."})]})]})}}},e=>{e.O(0,[135,965,31,176,441,255,977],()=>e(e.s=7097)),_N_E=e.O()}]);